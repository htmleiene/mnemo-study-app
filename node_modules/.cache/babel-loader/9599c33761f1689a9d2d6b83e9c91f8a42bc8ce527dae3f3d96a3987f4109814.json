{"ast":null,"code":"import { getSpacedRepetitionSchedule } from './ai';\nimport { saveToStorage, getFromStorage } from '../utils/storage';\nconst FLASHCARDS_KEY = 'user_flashcards';\nexport const createFlashcard = (deckId, front, back) => {\n  const flashcards = getFromStorage(FLASHCARDS_KEY) || {};\n  const newFlashcard = {\n    id: Date.now().toString(),\n    front,\n    back,\n    deckId,\n    difficulty: 3,\n    // Default medium\n    nextReview: new Date(),\n    history: []\n  };\n  flashcards[newFlashcard.id] = newFlashcard;\n  saveToStorage(FLASHCARDS_KEY, flashcards);\n  return newFlashcard;\n};\nexport const updateFlashcardDifficulty = (cardId, difficulty) => {\n  const flashcards = getFromStorage(FLASHCARDS_KEY) || {};\n  const card = flashcards[cardId];\n  if (card) {\n    const newDifficulty = Math.max(1, Math.min(5, difficulty));\n    const nextReview = getSpacedRepetitionSchedule(card.history.length, newDifficulty);\n    card.difficulty = newDifficulty;\n    card.nextReview = nextReview;\n    card.history.push({\n      date: new Date(),\n      difficulty: newDifficulty\n    });\n    saveToStorage(FLASHCARDS_KEY, flashcards);\n  }\n};\nexport const getDeckFlashcards = deckId => {\n  const flashcards = getFromStorage(FLASHCARDS_KEY) || {};\n  return Object.values(flashcards).filter(card => card.deckId === deckId);\n};","map":{"version":3,"names":["getSpacedRepetitionSchedule","saveToStorage","getFromStorage","FLASHCARDS_KEY","createFlashcard","deckId","front","back","flashcards","newFlashcard","id","Date","now","toString","difficulty","nextReview","history","updateFlashcardDifficulty","cardId","card","newDifficulty","Math","max","min","length","push","date","getDeckFlashcards","Object","values","filter"],"sources":["C:/Users/5019508/Documents/dev/Mnemo/src/services/flashcards.js"],"sourcesContent":["import { getSpacedRepetitionSchedule } from './ai';\r\nimport { saveToStorage, getFromStorage } from '../utils/storage';\r\n\r\nconst FLASHCARDS_KEY = 'user_flashcards';\r\n\r\nexport const createFlashcard = (deckId, front, back) => {\r\n  const flashcards = getFromStorage(FLASHCARDS_KEY) || {};\r\n  const newFlashcard = {\r\n    id: Date.now().toString(),\r\n    front,\r\n    back,\r\n    deckId,\r\n    difficulty: 3, // Default medium\r\n    nextReview: new Date(),\r\n    history: []\r\n  };\r\n\r\n  flashcards[newFlashcard.id] = newFlashcard;\r\n  saveToStorage(FLASHCARDS_KEY, flashcards);\r\n\r\n  return newFlashcard;\r\n};\r\n\r\nexport const updateFlashcardDifficulty = (cardId, difficulty) => {\r\n  const flashcards = getFromStorage(FLASHCARDS_KEY) || {};\r\n  const card = flashcards[cardId];\r\n  \r\n  if (card) {\r\n    const newDifficulty = Math.max(1, Math.min(5, difficulty));\r\n    const nextReview = getSpacedRepetitionSchedule(\r\n      card.history.length,\r\n      newDifficulty\r\n    );\r\n    \r\n    card.difficulty = newDifficulty;\r\n    card.nextReview = nextReview;\r\n    card.history.push({\r\n      date: new Date(),\r\n      difficulty: newDifficulty\r\n    });\r\n    \r\n    saveToStorage(FLASHCARDS_KEY, flashcards);\r\n  }\r\n};\r\n\r\nexport const getDeckFlashcards = (deckId) => {\r\n  const flashcards = getFromStorage(FLASHCARDS_KEY) || {};\r\n  return Object.values(flashcards).filter(card => card.deckId === deckId);\r\n};"],"mappings":"AAAA,SAASA,2BAA2B,QAAQ,MAAM;AAClD,SAASC,aAAa,EAAEC,cAAc,QAAQ,kBAAkB;AAEhE,MAAMC,cAAc,GAAG,iBAAiB;AAExC,OAAO,MAAMC,eAAe,GAAGA,CAACC,MAAM,EAAEC,KAAK,EAAEC,IAAI,KAAK;EACtD,MAAMC,UAAU,GAAGN,cAAc,CAACC,cAAc,CAAC,IAAI,CAAC,CAAC;EACvD,MAAMM,YAAY,GAAG;IACnBC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;IACzBP,KAAK;IACLC,IAAI;IACJF,MAAM;IACNS,UAAU,EAAE,CAAC;IAAE;IACfC,UAAU,EAAE,IAAIJ,IAAI,CAAC,CAAC;IACtBK,OAAO,EAAE;EACX,CAAC;EAEDR,UAAU,CAACC,YAAY,CAACC,EAAE,CAAC,GAAGD,YAAY;EAC1CR,aAAa,CAACE,cAAc,EAAEK,UAAU,CAAC;EAEzC,OAAOC,YAAY;AACrB,CAAC;AAED,OAAO,MAAMQ,yBAAyB,GAAGA,CAACC,MAAM,EAAEJ,UAAU,KAAK;EAC/D,MAAMN,UAAU,GAAGN,cAAc,CAACC,cAAc,CAAC,IAAI,CAAC,CAAC;EACvD,MAAMgB,IAAI,GAAGX,UAAU,CAACU,MAAM,CAAC;EAE/B,IAAIC,IAAI,EAAE;IACR,MAAMC,aAAa,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,CAAC,EAAET,UAAU,CAAC,CAAC;IAC1D,MAAMC,UAAU,GAAGf,2BAA2B,CAC5CmB,IAAI,CAACH,OAAO,CAACQ,MAAM,EACnBJ,aACF,CAAC;IAEDD,IAAI,CAACL,UAAU,GAAGM,aAAa;IAC/BD,IAAI,CAACJ,UAAU,GAAGA,UAAU;IAC5BI,IAAI,CAACH,OAAO,CAACS,IAAI,CAAC;MAChBC,IAAI,EAAE,IAAIf,IAAI,CAAC,CAAC;MAChBG,UAAU,EAAEM;IACd,CAAC,CAAC;IAEFnB,aAAa,CAACE,cAAc,EAAEK,UAAU,CAAC;EAC3C;AACF,CAAC;AAED,OAAO,MAAMmB,iBAAiB,GAAItB,MAAM,IAAK;EAC3C,MAAMG,UAAU,GAAGN,cAAc,CAACC,cAAc,CAAC,IAAI,CAAC,CAAC;EACvD,OAAOyB,MAAM,CAACC,MAAM,CAACrB,UAAU,CAAC,CAACsB,MAAM,CAACX,IAAI,IAAIA,IAAI,CAACd,MAAM,KAAKA,MAAM,CAAC;AACzE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}